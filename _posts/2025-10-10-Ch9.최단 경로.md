---
excerpt: "CHAPTER 9. ìµœë‹¨ ê²½ë¡œ"
name: J
writer: J
categories: [ì±… ì •ë¦¬, ì´ê²ƒì´ ì·¨ì—…ì„ ìœ„í•œ ì½”ë”© í…ŒìŠ¤íŠ¸ë‹¤.] # [ë©”ì¸ ì¹´í…Œê³ ë¦¬, ì„œë¸Œ ì¹´í…Œê³ ë¦¬]
tags:
  - []

toc: true
toc_sticky: true

date: 2025-10-10
last_modified_at: 2024-10-10

# --- ì•„ë˜ ë¶€í„° content
---
# 1. ê°€ì¥ ë¹ ë¥¸ ê¸¸ ì°¾ê¸°
## ê°€ì¥ ë¹ ë¥´ê²Œ ë„ë‹¬í•˜ëŠ” ë°©ë²•
- ìµœë‹¨ ê²½ë¡œ: ê°€ì¥ ì§§ì€ ê²½ë¡œë¥¼ ì°¾ëŠ” ì•Œê³ ë¦¬ì¦˜.
    - ìœ í˜• ì˜ˆì‹œ
        - í•œ ì§€ì ì—ì„œ ë‹¤ë¥¸ íŠ¹ì • ì§€ì ê¹Œì§€ì˜ ìµœë‹¨ ê²½ë¡œë¥¼ êµ¬í•´ì•¼ í•˜ëŠ” ê²½ìš°
        - ëª¨ë“  ì§€ì ì—ì„œ ë‹¤ë¥¸ ëª¨ë“  ì§€ì ê¹Œì§€ì˜ ìµœë‹¨ ê²½ë¡œë¥¼ ëª¨ë‘ êµ¬í•´ì•¼ í•˜ëŠ” ê²½ìš°
    - ê·¸ë˜í”„ ì´ìš©í•´ í‘œí˜„
        - ë…¸ë“œ: ê° ì§€ì 
        - ê°„ì„ : ì§€ì  ê°„ ì—°ê²°ëœ ë„ë¡œ
    - ëŒ€í‘œ ì•Œê³ ë¦¬ì¦˜
        1. ë‹¤ìµìŠ¤íŠ¸ë¼ ìµœë‹¨ ê²½ë¡œ ì•Œê³ ë¦¬ì¦˜
        2. í”Œë¡œì´ë“œ ì›Œì…œ
        3. ë²¨ë§Œ í¬ë“œ
    
## ë‹¤ìµìŠ¤íŠ¸ë¼ ìµœë‹¨ ê²½ë¡œ ì•Œê³ ë¦¬ì¦˜
> â­í‚¤ í¬ì¸íŠ¸<br> - ìµœë‹¨ ê±°ë¦¬ë¥¼ ê°€ì§€ëŠ” ë…¸ë“œë¥¼ í•˜ë‚˜ì”© ë°˜ë³µì ìœ¼ë¡œ ì„ íƒ -> í•´ë‹¹ ë…¸ë“œë¥¼ ê±°ì³ ê°€ëŠ” ê²½ë¡œ í™•ì¸ -> ìµœë‹¨ ê±°ë¦¬ í…Œì´ë¸” ê°±ì‹ 


- ì—¬ëŸ¬ ê°œì˜ ë…¸ë“œê°€ ìˆì„ ë•Œ, íŠ¹ì •í•œ ë…¸ë“œì—ì„œ ì¶œë°œí•˜ì—¬ ë‹¤ë¥¸ ë…¸ë“œë¡œ ê°€ëŠ” ê°ê°ì˜ ìµœë‹¨ ê²½ë¡œë¥¼ êµ¬í•´ì£¼ëŠ” ì•Œê³ ë¦¬ì¦˜.
- 'ìŒì˜ ê°„ì„ 'ì´ ì—†ì„ ë•Œ ì •ìƒ ì‘ë™.
- íŠ¹ì§•:<br>
    1) 'ê° ë…¸ë“œì— ëŒ€í•œ í˜„ì¬ê¹Œì§€ì˜ ìµœë‹¨ ê±°ë¦¬' ì •ë³´ë¥¼ í•­ìƒ 1ì°¨ì› ë¦¬ìŠ¤íŠ¸(ìµœë‹¨ ê±°ë¦¬ í…Œì´ë¸”)ì— ì €ì¥í•˜ë©° ë¦¬ìŠ¤íŠ¸ ê³„ì† ê°±ì‹ .
    2) ë§¤ë²ˆ í˜„ì¬ ì²˜ë¦¬í•˜ê³  ìˆëŠ” ë…¸ë“œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì£¼ë³€ ê°„ì„  í™•ì¸.
    3) 'ë°©ë¬¸í•˜ì§€ ì•Šì€ ë…¸ë“œ ì¤‘ì—ì„œ í˜„ì¬ ìµœë‹¨ ê±°ë¦¬ê°€ ê°€ì¥ ì§§ì€ ë…¸ë“œë¥¼ í™•ì¸'í•´ ê·¸ ë…¸ë“œì— ëŒ€í•˜ì—¬ ì•„ë˜ì˜ 4ë²ˆ ê³¼ì •ì„ ìˆ˜í–‰ -> ê·¸ë¦¬ë””!

    ![alt text]({{ '/assets/img_20251010/image-1.png' | relative_url }})

- êµ¬í˜„ ë°©ë²•:<br>
    ë°©ë²• 1. êµ¬í˜„í•˜ê¸° ì‰½ì§€ë§Œ ëŠë¦¬ê²Œ ë™ì‘í•˜ëŠ” ì½”ë“œ
    â­ë°©ë²• 2. êµ¬í˜„í•˜ê¸°ì— ì¡°ê¸ˆ ë” ê¹Œë‹¤ë¡­ì§€ë§Œ ë¹ ë¥´ê²Œ ë™ì‘í•˜ëŠ” ì½”ë“œ

â­ê·¸ë¦¬ë”” ì•Œê³ ë¦¬ì¦˜! -> ë§¤ë²ˆ 'ê°€ì¥ ë¹„ìš©ì´ ì ì€ ë…¸ë“œ'ë¥¼ ì„ íƒí•´ì„œ ì„ì˜ì˜ ê³¼ì • ë°˜ë³µ.

1. ì¶œë°œ ë…¸ë“œë¥¼ ì„¤ì •
2. ìµœë‹¨ ê±°ë¦¬ í…Œì´ë¸”ì„ ì´ˆê¸°í™”
3. ë°©ë¬¸í•˜ì§€ ì•Šì€ ë…¸ë“œ ì¤‘ì—ì„œ ìµœë‹¨ ê±°ë¦¬ê°€ ê°€ì¥ ì§§ì€ ë…¸ë“œ ì„ íƒ
4. í•´ë‹¹ ë…¸ë“œë¥¼ ê±°ì³ ë‹¤ë¥¸ ë…¸ë“œë¡œ ê°€ëŠ” ë¹„ìš©ì„ ê³„ì‚°í•˜ì—¬ ìµœë‹¨ ê±°ë¦¬ í…Œì´ë¸”ì„ ê°±ì‹ 
5. ìœ„ ê³¼ì •ì—ì„œ 3ê³¼ 4ë²ˆì„ ë°˜ë³µ

### ë™ì‘ ì›ë¦¬

![alt text]({{ '/assets/img_20251010/image.png' | relative_url }})

![alt text]({{ '/assets/img_20251010/image-2.png' | relative_url }})
- ì¶œë°œ ë…¸ë“œê¹Œì§€ì˜ ê±°ë¦¬ê°€ 0ì´ê³ , ë‹¤ë¥¸ ëª¨ë“  ë…¸ë“œì— ëŒ€í•´ì„œëŠ” ê±°ë¦¬ê°€ ë¬´í•œì¸ ê²ƒìœ¼ë¡œ ì´ˆê¸°í™”í•  ìˆ˜ ìˆë‹¤.

![alt text]({{ '/assets/img_20251010/image-3.png' | relative_url }})
- 1ë²ˆ ë…¸ë“œì—ì„œ 2ë²ˆ ë…¸ë“œë¡œ ê±°ì³ê°ˆ ë•Œ, í˜„ì¬ ê°’ì¸ ë¬´í•œë³´ë‹¤ 2ê°€ ë” ì‘ê¸° ë•Œë¬¸ì— 2ë¡œ ê°±ì‹ í•œë‹¤. â†’ ìµœë‹¨ ê±°ë¦¬ ê°’ì´ 2ë¡œ ë°”ë€ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
- ë§ˆì°¬ê°€ì§€ë¡œ 3ë²ˆ, 4ë²ˆ ë…¸ë“œì— ëŒ€í•´ì„œ ë™ì¼í•œ ë¡œì§ìœ¼ë¡œ ê°±ì‹ í•œë‹¤.

![alt text]({{ '/assets/img_20251010/image-4.png' | relative_url }})
![alt text]({{ '/assets/img_20251010/image-5.png' | relative_url }})
![alt text]({{ '/assets/img_20251010/image-6.png' | relative_url }})
![alt text]({{ '/assets/img_20251010/image-7.png' | relative_url }})

=> 'ë°©ë¬¸í•˜ì§€ ì•Šì€ ë…¸ë“œ ì¤‘ì—ì„œ ê°€ì¥ ìµœë‹¨ ê±°ë¦¬ê°€ ì§§ì€ ë…¸ë“œë¥¼ ì„ íƒ'í•˜ëŠ” ê³¼ì •ì„ ë°˜ë³µí•˜ëŠ”ë°, ì´ë ‡ê²Œ ì„ íƒëœ ë…¸ë“œëŠ” 'ìµœë‹¨ ê±°ë¦¬'ê°€ ì™„ì „íˆ ì„ íƒëœ ë…¸ë“œì´ë¯€ë¡œ, ë” ì´ìƒ ì•Œê³ ë¦¬ì¦˜ì„ ë°˜ë³µí•´ë„ ìµœë‹¨ ê±°ë¦¬ê°€ ì¤„ì–´ë“¤ì§€X<br>

â­í•œ ë‹¨ê³„ë‹¹ í•˜ë‚˜ì˜ ë…¸ë“œì— ëŒ€í•œ ìµœë‹¨ ê±°ë¦¬ë¥¼ í™•ì‹¤íˆ ì°¾ëŠ” ê²ƒ! (ê·¸ë˜ì„œ ì‚¬ì‹¤ ë§ˆì§€ë§‰ ë‚¨ì€ ë…¸ë“œëŠ” ìë™ ê³ ì •)

### ë°©ë²• 1. ê°„ë‹¨í•œ ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜
- ì‹œê°„ ë³µì¡ë„: O(V^2) 
    - V: nodeì˜ ê°¯ìˆ˜<br>
    => ë…¸ë“œì˜ ê°œìˆ˜ê°€ 10000ê°œë¥¼ ë„˜ì–´ê°€ë©´ 'ê°œì„ ëœ ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜'ì„ ì´ìš©í•´ì•¼í•¨<br>
    => O(v)ë²ˆì— ê±¸ì³ì„œ ìµœë‹¨ ê±°ë¦¬ê°€ ê°€ì¥ ì§§ì€ ë…¸ë“œë¥¼ ë§¤ë²ˆ ì„ í˜• íƒìƒ‰ / O(V)ì— ê±¸ì³ ì—°ê²°ëœ ë…¸ë“œ ë§¤ë²ˆ í™•ì¸

1. ê° ë…¸ë“œì— ëŒ€í•œ ìµœë‹¨ ê±°ë¦¬ë¥¼ ë‹´ëŠ” 1ì°¨ì› ë¦¬ìŠ¤íŠ¸ ì„ ì–¸
2. ë‹¨ê³„ë§ˆë‹¤ 'ë°©ë¬¸í•˜ì§€ ì•Šì€ ë…¸ë“œ ì¤‘ì—ì„œ ìµœë‹¨ ê±°ë¦¬ê°€ ê°€ì¥ ì§§ì€ ë…¸ë“œë¥¼ ì„ íƒ'í•˜ê¸° ìœ„í•´ ë§¤ ë‹¨ê³„ë§ˆë‹¤ 1ì°¨ì› ë¦¬ìŠ¤íŠ¸ì˜ ëª¨ë“  ì›ì†Œë¥¼ í™•ì¸

ğŸ”–ì°¸ê³ : ì…ë ¥ë˜ëŠ” ë°ì´í„°ì˜ ìˆ˜ê°€ ë§ë‹¤ëŠ” ê°€ì •í•˜ì— íŒŒì´ì¬ ë‚´ì¥ í•¨ìˆ˜ì¸ input()ì„ ë” ë¹ ë¥´ê²Œ ë™ì‘í•˜ëŠ” sys.std.realine()ìœ¼ë¡œ ì¹˜í™˜.<br>
ğŸ”–ì°¸ê³ 2: ë¦¬ìŠ¤íŠ¸ëŠ” (ë…¸ë“œì˜ ê°œìˆ˜ + 1)ì˜ í¬ê¸°ë¡œ í• ë‹¹í•˜ì—¬, ë…¸ë“œì˜ ë²ˆí˜¸ë¥¼ ì¸ë±ìŠ¤ë¡œ í•˜ì—¬ ë°”ë¡œ ë¦¬ìŠ¤íŠ¸ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í–ˆë‹¤.

```py
import sys
input = sys.stdin.readline
INF = int(1e9) #ë¬´í•œì„ ì˜ë¯¸í•˜ëŠ” ê°’

# ë…¸ë“œì˜ ê°œìˆ˜, ê°„ì„ ì˜ ê°œìˆ˜
n, m = map(int, input().split())
start = int(input())
graph = [[] for i in range(n+1)]
visited = [False] * (n + 1)
distance = [INF] * (n + 1)

# ëª¨ë“  ê°„ì„  ì •ë³´ë¥¼ ì…ë ¥ ë°›ê¸°
for _ in range(m):
    a, b, c = map(int, input().split())
    # a -> bë¡œ ê°€ëŠ” ë¹„ìš©ì´ c
    graph[a].append((b,c))

# ë°©ë¬¸í•˜ì§€ ì•Šì€ ë…¸ë“œ ì¤‘ì—ì„œ, ê°€ì¥ ìµœë‹¨ ê±°ë¦¬ê°€ ì§§ì€ ë…¸ë“œì˜ ë²ˆí˜¸ë¥¼ ë°˜í™˜
def get_smallest_node():
    min_value = INF
    index = 0
    for i in range(1, n+1):
        if distance[i] < min_value and not visited[i]:
            min_value = distance[i]
            index = i
    return index

def dijkstra(start):
    # ì‹œì‘ ë…¸ë“œì— ëŒ€í•´ì„œ ì´ˆê¸°í™”
    distance[start] = 0
    visited[start] = True
    for j in graph[start]:
        distance[j[0]] = j[1]
    # ì‹œì‘ ë…¸ë“œë¥¼ ì œì™¸í•œ ì „ì²´ n-1ê°œì˜ ë…¸ë“œì— ëŒ€í•´ ë°˜ë³µ
    for i in range(n-1):
        now = get_smallest_node()
        visited[now] = True
        # í˜„ì¬ ë…¸ë“œì™€ ì—°ê²°ëœ ë‹¤ë¥¸ ë…¸ë“œë¥¼ í™•ì¸
        for j in graph[now]:
            cost = distance[now] + j[1]
            # í˜„ì¬ ë…¸ë“œë¥¼ ê±°ì³ì„œ ë‹¤ë¥¸ ë…¸ë“œë¡œ ì´ë™í•˜ëŠ” ê±°ë¦¬ê°€ ë” ì§§ì„ ë•Œ
            if cost < distance[j[0]]:
                distance[j[0]] = cost

dijkstra(start)

for i in range(1, n+1):
    if distance[i] == INF:
        print("INFINITY")
    else:
        print(distance[i])
```

### ë°©ë²• 2. ê°œì„ ëœ ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜.
- ì‹œê°„ ë³µì¡ë„: O(ElogV)
    - V: ë…¸ë“œì˜ ê°œìˆ˜
    - E: ê°„ì„ ì˜ ê°œìˆ˜<br>

â­ìµœë‹¨ ê±°ë¦¬ê°€ ê°€ì¥ ì§§ì€ ë…¸ë“œë¥¼ ì„ í˜•ì ìœ¼ë¡œ ì°¾ì§€ ë§ì<br>
â­í˜„ì¬ ê°€ì¥ ê°€ê¹Œìš´ ë…¸ë“œë¥¼ ì €ì¥í•˜ê¸° ìœ„í•œ ëª©ì ìœ¼ë¡œë§Œ ìš°ì„ ìˆœìœ„ í ì´ìš©
- heap ìë£Œ êµ¬ì¡° ì´ìš©!
    - heapì—ì„œì˜ íƒìƒ‰ ì‹œê°„: logN

> **ğŸ’¡í™ ì„¤ëª…**
- ìš°ì„ ìˆœìœ„ íë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë¨.
    - ìš°ì„ ìˆœìœ„ í: ìš°ì„ ìˆœìœ„ê°€ ê°€ì¥ ë†’ì€ ë°ì´í„°ë¥¼ ê°€ì¥ ë¨¼ì € ì‚­ì œ
    - ëŒ€ë¶€ë¶„ ìš°ì„ ìˆœìœ„ í ë¼ì´ë¸ŒëŸ¬ë¦¬ ì§€ì›.
        - python: PriorityQueue or heapq(ë” ë¹ ë¦„) / ìµœì†Œ í™ì´ ë””í´íŠ¸(ìµœëŒ€ í™ ì“°ê³  ì‹¶ìœ¼ë©´ - ë„£ì—ˆë‹¤ê°€ ë‚˜ì¤‘ì— ë¹¼ê¸°)
    - ìš°ì„ ìˆœìœ„ ê°’ì„ í‘œí˜„í•  ë•ŒëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì •ìˆ˜í˜• ìë£Œí˜•ì˜ ë³€ìˆ˜ê°€ ì´ìš©.
        - ì²« ë²ˆì§¸ ì›ì†Œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìš°ì„ ìˆœìœ„ ì„¤ì •.

|ìš°ì„ ìˆœìœ„ í êµ¬í˜„ ë°©ì‹|ì‚½ì… ì‹œê°„|ì‚­ì œ ì‹œê°„|
|---|---|---|
|ë¦¬ìŠ¤íŠ¸|O(1)|O(N)|
|í™|O(logN)|O(logN)|

![alt text]({{ '/assets/img_20251010/image-8.png' | relative_url }})
- ì¶œë°œ ë…¸ë“œë¥¼ '1ë²ˆ'ì´ë¼ê³  ê°€ì •í•œë‹¤. '1ë²ˆ' ë…¸ë“œê¹Œì§€ì˜ í˜„ì¬ ìµœë‹¨ ê±°ë¦¬ ê°’ì„ 0ìœ¼ë¡œ ì„¤ì •í•´ì„œ ìš°ì„ ìˆœìœ„ íì— ë„£ëŠ”ë‹¤.
- ìš°ì„ ìˆœìœ„ íì— ë°ì´í„°ë¥¼ ë„£ì„ ë•Œ íŠœí”Œ í˜•íƒœë¡œ ë°ì´í„°ë¥¼ ë¬¶ëŠ” ê³¼ì •ì—ì„œ ì²«ë²ˆì§¸ ì›ì†Œë¥¼ ê±°ë¦¬ë¡œ ì„¤ì •í•˜ê²Œ ë˜ë©´ ì´ ê±°ë¦¬ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•´ì„œ ë” ê±°ë¦¬ê°€ ì‘ì€ ì›ì†Œê°€ ë¨¼ì € ë‚˜ì˜¬ ìˆ˜ ìˆë„ë¡ íê°€ êµ¬ì„±ëœë‹¤.

![alt text]({{ '/assets/img_20251010/image-9.png' | relative_url }})
![alt text]({{ '/assets/img_20251010/image-10.png' | relative_url }})
![alt text]({{ '/assets/img_20251010/image-11.png' | relative_url }})
![alt text]({{ '/assets/img_20251010/image-12.png' | relative_url }})
![alt text]({{ '/assets/img_20251010/image-13.png' | relative_url }})
![alt text]({{ '/assets/img_20251010/image-14.png' | relative_url }})

```py
import heapq
import sys
input = sys.stdin.readline
INF = int(1e9)

n, m = map(int, input().split())
start = int(input())
graph = [[] for i in range(n+1)]
distance = [INF] * (n+1)

for _ in range(m):
    a, b, c = map(int, input().split())
    graph[a].append((b,c))

def dijkstra(start):
    q = []
    heapq.heappush(q, (0, start))
    distance[start] = 0
    while q:
        dist, now = heapq.heappop(q)
        if distance[now] < dist:
            continue
        for i in graph[now]:
            cost = dist + i[1]
            if cost < distance[i[0]]:
                distance[i[0]] = cost
                heapq.heqppush(q, (cost, i[0]))

dijkstra(start)

for i in range(1, n+1):
    if distance[i] == INF:
        print("INFINITY")
    else:
        print(distance[i])
```

## í”Œë¡œì´ë“œ ì›Œì…œ ì•Œê³ ë¦¬ì¦˜
- ëª¨ë“  ì§€ì ì—ì„œ ë‹¤ë¥¸ ëª¨ë“  ì§€ì ê¹Œì§€ì˜ ìµœë‹¨ ê²½ë¡œ.
- ë‹¤ìµìŠ¤íŠ¸ë¼ì™€ì˜ ì°¨ì´
    - 'ê±°ì³ ê°€ëŠ” ë…¸ë“œ'ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì•Œê³ ë¦¬ì¦˜ ìˆ˜í–‰(ë§¤ë²ˆ ë°©ë¬¸í•˜ì§€ ì•Šì€ ë…¸ë“œ ì¤‘ì—ì„œ ìµœë‹¨ ê±°ë¦¬ë¥¼ ê°–ëŠ” ë…¸ë“œ ì°¾ì„ í•„ìš”X)
        - ex) 1ë²ˆ ë…¸ë“œì— ëŒ€í•´ í™•ì¸í•  ë•ŒëŠ” 1ë²ˆ ë…¸ë“œë¥¼ ì¤‘ê°„ì— ê±°ì³ ì§€ë‚˜ê°€ëŠ” ëª¨ë“  ê²½ìš° ê³ ë ¤!
    - 2ì°¨ì› ë¦¬ìŠ¤íŠ¸ì— 'ìµœë‹¨ ê±°ë¦¬' ì •ë³´ ì €ì¥(ì´ë˜ì„œ O(N^2))
    - ë‹¤ì´ë‚˜ë¯¹ í”„ë¡œê·¸ë˜ë°!!!(Në²ˆ ë§Œí¼ì˜ ë‹¨ê³„ë¥¼ ë°˜ë³µí•˜ë©° 'ì í™”ì‹ì— ë§ê²Œ' 2ì°¨ì› ë¦¬ìŠ¤íŠ¸ë¥¼ ê°±ì‹ í•˜ê¸° ë•Œë¬¸.)
- ì‹œê°„ ë³µì¡ë„
    - Në²ˆì˜ ë‹¨ê³„ ìˆ˜í–‰ / ë‹¨ê³„ë§ˆë‹¤ O(N^2)ì˜ ì—°ì‚° -> ë‚¨ì€ ë…¸ë“œ n-1ê°œ ì¤‘ ìˆœì„œ ê³ ë ¤í•´ 2ê°œ ë½‘ìœ¼ë‹ˆ N^2<br>
    => ì´ì‹œê°„ ë³µì¡ë„: O(N^3)

> ì í™”ì‹: Dab = min(Dab, Dak + Dkb)

![alt text]({{ '/assets/img_20251010/image-15.png' | relative_url }})
![alt text]({{ '/assets/img_20251010/image-16.png' | relative_url }})
![alt text]({{ '/assets/img_20251010/image-17.png' | relative_url }})
![alt text]({{ '/assets/img_20251010/image-18.png' | relative_url }})
![alt text]({{ '/assets/img_20251010/image-19.png' | relative_url }})

```py
INF = int(1e9)

n = int(input())
m = int(input())
graph = [[INF] * (n+1) for _ in range(n+1)]

for a in range(1, n+1):
    for b in range(1, n+1):
        if a==b:
            graph[a][b] = 0

for _ in range(m):
    a, b, c = map(int, input().split())
    graph[a][b] = c

for k in range(1, n+1):
    for a in range(1, n+1):
        for b in range(1, n+1):
            graph[a][b] = min(graph[a][b], graph[a][k] + graph[k][b])

for a in range(1, n+1):
    for b in range(1, n+1):
        if graph[a][b] == INF:
            print("INFINITY", end = " ")
        else:
            print(graph[a][b], end = " ")
    print()
```